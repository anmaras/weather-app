"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[70,647],{484:(e,n,t)=>{t.d(n,{Z:()=>d});var a=t(13),s=t(882);function r(e){(0,s.Z)(1,arguments);var n=(0,a.Z)(e);return n.setHours(0,0,0,0),n}function c(e,n){(0,s.Z)(2,arguments);var t=r(e),a=r(n);return t.getTime()===a.getTime()}var o=t(946);function i(e,n){(0,s.Z)(2,arguments);var t=(0,a.Z)(e),r=(0,o.Z)(n);return isNaN(r)?new Date(NaN):r?(t.setDate(t.getDate()+r),t):t}var l=t(227),u=t(87);const d=async function(){(0,u.w2)();const e=await async function(){const e=await async function(){const e=document.querySelector("#search").value||"Athens";try{const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=c07e35213b5b3ac0b9e7961e49d1694d&units=metric`,{mode:"cors"});if(!n.ok)throw document.querySelector(".loading-text").textContent=`Couldn't find data for ${e}`,setTimeout((()=>{(0,u.v6)()}),2e3),new Error("Couldn't find lat and lon data need, to search for a city");return await n.json()}catch(e){console.error(e)}}();return{location:e,weatherData:await async function(e,n){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${n}&appid=04d4d495e39f2311c4acd1148b6e2130&units=metric`,{mode:"cors"});if(!t.ok)throw new Error("Couldn't find city name");return await t.json()}catch(e){console.error(e)}}(e.coord.lat,e.coord.lon)}}();(0,u.v6)();const{location:n,weatherData:t}=e;!function(e,n){const t=document.querySelector(".current-weather");t.childNodes.length&&t.replaceChildren();const a=`\n    <li class="city-name">${n.name}, ${n.sys.country}</li>\n    <li class="current-temp"><span class="temp">${(0,u.sQ)(e.current.temp)}°C</span></li>\n    <li class="current-description">${e.current.weather[0].description}</li>\n    <li class="temp-max-low">\n      H:\n      <span class="temp">${(0,u.sQ)(e.daily[0].temp.max)}°C</span> L:\n      <span class="temp">${(0,u.sQ)(e.daily[0].temp.min)}°C</span>\n    </li>\n    `;t.insertAdjacentHTML("afterbegin",a)}(t,n),function(e){const n=document.querySelector(".hourly-weather");n.childNodes.length&&n.replaceChildren(),e.hourly.filter((e=>{if(function(e){return(0,s.Z)(1,arguments),c(e,Date.now())}((0,l.Z)(e.dt))||function(e){return(0,s.Z)(1,arguments),c(e,i(Date.now(),1))}((0,l.Z)(e.dt)))return e})).forEach((e=>{const t=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,a=`\n      <li>\n      <p class="hourly-time">${(0,u.hk)(e.dt)}</p>\n      <img class="weather-img" src=${t} alt="weather image" />\n      <p class="hourly-temp "><span class="temp">${(0,u.sQ)(e.temp)}°C</span>\n      </p>\n      </li>\n      `;n.insertAdjacentHTML("afterbegin",a)}))}(t),function(e){const n=document.querySelector(".daily-weather");n.childNodes.length&&n.replaceChildren(),e.daily.forEach(((t,a)=>{if(a>0){const a=`http://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`,s=`\n        <li><p>${(0,u.QH)(t.dt,e.timezone_offset)}</p>\n        <img class="weather-img" src=${a} alt="weather image" />\n        <p class="daily-temp"><span class="temp">${(0,u.sQ)(t.temp.max)}°C</span>/\n        <span class="temp">${(0,u.sQ)(t.temp.min)}°C</span></p>\n        </li>\n        `;n.insertAdjacentHTML("afterbegin",s)}}))}(t),function(e){const n=document.querySelector(".weather-data");n.childNodes.length&&n.replaceChildren();const t=`\n    <li class="current-sunrise">\n    Sunrise<span class="d-block">${(0,u.d)(e.current.sunrise)}</span>\n                       </li>\n                       <li class="current-sunset">\n                       Sunset<span class="d-block">${(0,u.d)(e.current.sunset)}</span>\n                       </li>\n                       <li class="humidity">\n                          Humidity<span class="d-block">${e.current.humidity}%</span>\n                       </li>\n                    <li class="current-feels-like">\n                       Feels like<span class="d-block temp">${(0,u.sQ)(e.current.feels_like)}°C</span>\n                    </li>\n                    <li class="current-pressure">\n                       Pressure<span class="d-block">${e.current.pressure} hPa</span>\n                    </li>\n                    <li class="current-uvi">\n                       UV Index<span class="d-block">${e.current.uvi}</span>\n                    </li>\n                    <li class="current-wind-speed">\n                       Wind<span class="d-block">${e.current.wind_speed} km/h</span>\n                    </li>\n                    `;n.insertAdjacentHTML("afterbegin",t)}(t)}},87:(e,n,t)=>{t.d(n,{GX:()=>m,QH:()=>l,UK:()=>c,d:()=>d,hk:()=>u,sQ:()=>p,v6:()=>i,w2:()=>o});var a=t(227),s=t(598);let r=!0;function c(){const e=[...document.getElementsByClassName("temp")],n=document.querySelector(".fahrenheit-symbol"),t=document.querySelector(".celsius-symbol");r&&e.forEach((e=>{e.textContent=(9*e.textContent.replace(/\D/g,"")/5+32).toFixed(0)+"°F",t.classList.remove("fw-bold"),n.classList.add("fw-bold")})),r||e.forEach((e=>{e.textContent=(5*(e.textContent.replace(/\D/g,"")-32)/9).toFixed(0)+"°C",n.classList.remove("fw-bold"),t.classList.add("fw-bold")})),r=!r}function o(){document.querySelector(".backdrop-container").classList.remove("d-none")}function i(){document.querySelector(".backdrop-container").classList.add("d-none")}function l(e,n){return(0,s.Z)(new Date((0,a.Z)(e-n)),"EEEE")}function u(e){return(0,s.Z)((0,a.Z)(e),"HH:mm")}function d(e){return(0,s.Z)(new Date((0,a.Z)(e)),"HH:mm")}function p(e){return Math.round(e)}function m(){document.querySelector(".search-input").value=""}}},e=>{e.O(0,[999],(()=>(484,e(e.s=484)))),e.O()}]);